{"version":3,"sources":["util.js","components/Cart.js","components/Filter.js","components/Product.js","App.js","index.js"],"names":["formatCurrentcy","num","Number","toFixed","Cart","cartItems","removeFromCart","createOrder","useState","showCheckOut","setShowCheckOut","email","name","address","input","setInput","handleInput","e","target","value","length","className","left","cascade","map","item","key","_id","src","image","alt","title","price","count","onClick","reduce","sum","right","onSubmit","preventDefault","order","addres","type","required","onChange","Filter","size","sort","setSize","setSort","Product","products","addToCart","productModal","setProductModal","closeModal","bottom","product","href","openModal","isOpen","description","availableSizes","el","App","data","setProducts","setCartItems","useEffect","loadCartItems","a","axios","get","fetchData","saveCartItems","sortProducts","filterProducts","filter","indexOf","slice","b","localStorage","setItem","JSON","stringify","getItem","localCartItems","parse","cartItem","alreadyInCart","forEach","push","x","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.de2e046a.chunk.js","sourcesContent":["export default function formatCurrentcy(num) {\r\n    return \"$\" + Number(num.toFixed(1)) + \" \";\r\n}","import React, { useState } from \"react\";\r\nimport formatCurrentcy from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\n\r\nfunction Cart({ cartItems, removeFromCart, createOrder }) {\r\n  const [showCheckOut, setShowCheckOut] = useState(false);\r\n  const [input, setInput] = useState({\r\n    email: \"\",\r\n    name: \"\",\r\n    address: \"\",\r\n  });\r\n  const Order = (e) => {\r\n    e.preventDefault();\r\n    const order = {\r\n      name: input.name,\r\n      email: input.email,\r\n      addres: input.address,\r\n      cartItems: cartItems,\r\n    };\r\n    createOrder(order);\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    setInput({\r\n      ...input,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {cartItems.length === 0 ? (\r\n        <div className=\"cart cart-header\">Cart is empty </div>\r\n      ) : (\r\n        <div className=\"cart cart-header\">\r\n          You have {cartItems.length} in the cart\r\n        </div>\r\n      )}\r\n      <div className=\"cart\">\r\n        <Fade left cascade>\r\n          <ul className=\"cart-items\">\r\n            {cartItems.map((item) => (\r\n              <li key={item._id}>\r\n                <div>\r\n                  <img src={item.image} alt={item.title} />\r\n                </div>\r\n                <div>{item.title}</div>\r\n                <div className=\"right\">\r\n                  {formatCurrentcy(item.price)}x{item.count}\r\n                  <button\r\n                    className=\"button\"\r\n                    onClick={() => removeFromCart(item)}\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </Fade>\r\n      </div>\r\n      {cartItems.length !== 0 && (\r\n        <div className=\"cart\">\r\n          <div className=\"total\">\r\n            <div>\r\n              Total:\r\n              {formatCurrentcy(\r\n                cartItems.reduce(\r\n                  (sum, item) => sum + item.price * item.count,\r\n                  0\r\n                )\r\n              )}\r\n            </div>\r\n            <button\r\n              onClick={() => setShowCheckOut(!showCheckOut)}\r\n              className=\"button primary\"\r\n            >\r\n              Proceed\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showCheckOut && (\r\n        <Fade right cascade>\r\n          <div className=\"cart\">\r\n            <form onSubmit={Order}>\r\n              <ul className=\"form-container\">\r\n                <li>\r\n                  <label>Email</label>\r\n                  <input\r\n                    value={input.email}\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    required\r\n                    onChange={handleInput}\r\n                  />\r\n                </li>\r\n                <li>\r\n                  <label>Name</label>\r\n                  <input\r\n                    value={input.name}\r\n                    name=\"name\"\r\n                    type=\"text\"\r\n                    required\r\n                    onChange={handleInput}\r\n                  />\r\n                </li>\r\n                <li>\r\n                  <label>Address</label>\r\n                  <input\r\n                    value={input.address}\r\n                    name=\"address\"\r\n                    type=\"text\"\r\n                    required\r\n                    onChange={handleInput}\r\n                  />\r\n                </li>\r\n                <li>\r\n                  <button className=\"button primary \" type=\"submit\">\r\n                    Checkout\r\n                  </button>\r\n                </li>\r\n              </ul>\r\n            </form>\r\n          </div>\r\n        </Fade>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\n\r\nfunction Filter({ count, size, sort, setSize, setSort }) {\r\n  const handleSort = (e) => {\r\n    setSort(e.target.value);\r\n  };\r\n  const handleSize = (e) => {\r\n    setSize(e.target.value);\r\n  };\r\n  return (\r\n    <div className=\"filter\">\r\n      <div className=\"filter-result\">{count} Products</div>\r\n      <div className=\"filter-sort\">\r\n        Order\r\n        <select value={sort} onChange={handleSort}>\r\n          <option>Lastest</option>\r\n          <option value=\"Lowest\">Lowest</option>\r\n          <option value=\"Highest\">Highest</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"filter-size\">\r\n        Filter\r\n        <select value={size} onChange={handleSize}>\r\n          <option value=\"All\">All</option>\r\n          <option value=\"XS\">XS</option>\r\n          <option value=\"S\">S</option>\r\n          <option value=\"M\">M</option>\r\n          <option value=\"L\">L</option>\r\n          <option value=\"XL\">XL</option>\r\n          <option value=\"XXL\">XXL</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter;\r\n","import React, { useState } from \"react\";\r\nimport formatCurrentcy from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport Modal from \"react-modal\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\n\r\nfunction Product({ products, addToCart }) {\r\n  const [productModal, setProductModal] = useState(null);\r\n\r\n  const openModal = (product) => {\r\n    setProductModal(product);\r\n  };\r\n  const closeModal = () => {\r\n    setProductModal(null);\r\n  };\r\n  return (\r\n    <div>\r\n      <Fade bottom cascade={true}>\r\n        <ul className=\"products\">\r\n          {products.map((product) => (\r\n            <li key={product._id}>\r\n              <div className=\"product\">\r\n                <a href={`#${product._id}`}>\r\n                  <img\r\n                    src={product.image}\r\n                    alt={product.title}\r\n                    onClick={() => openModal(product)}\r\n                  />\r\n                  <p>{product.title}</p>\r\n                </a>\r\n                <div className=\"product-price\">\r\n                  <div> {formatCurrentcy(product.price)}</div>\r\n                  <button\r\n                    onClick={() => addToCart(product)}\r\n                    className=\"button primary\"\r\n                  >\r\n                    Add to Cart\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </Fade>\r\n      {productModal && (\r\n        <Modal isOpen={true}>\r\n          <Zoom>\r\n            <button className=\"close-modal\" onClick={() => closeModal()}>\r\n              X\r\n            </button>\r\n            <div className=\"product-details\">\r\n              <img src={productModal.image} alt={productModal.title} />\r\n              <div className=\"product-details-description\">\r\n                <p>\r\n                  <strong>{productModal.title}</strong>\r\n                </p>\r\n                <p>{productModal.description}</p>\r\n                <p className=\"product-size\">\r\n                  Availble Sizes:\r\n                  {productModal.availableSizes.map((el) => (\r\n                    <span>\r\n                      <button className=\"button\">{el}</button>\r\n                    </span>\r\n                  ))}\r\n                </p>\r\n                <div className=\"product-price\">\r\n                  <div>{formatCurrentcy(productModal.price)}</div>\r\n                  <button\r\n                    className=\"button primary\"\r\n                    onClick={() => {\r\n                      addToCart(productModal);\r\n                      closeModal();\r\n                    }}\r\n                  >\r\n                    Add to Cart\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Zoom>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React, { useEffect, useState } from \"react\";\nimport Cart from \"./components/Cart\";\nimport Filter from \"./components/Filter\";\nimport Product from \"./components/Product\";\nimport data from \"./data.json\";\nimport axios from \"axios\";\n\nfunction App() {\n  //State\n  const [size, setSize] = useState(\"All\");\n  const [sort, setSort] = useState(\"Lastest\");\n  const [products, setProducts] = useState(data.products);\n  const [cartItems, setCartItems] = useState([]);\n\n  // Use Effect\n  useEffect(() => {\n    loadCartItems();\n    const fetchData = async () => {\n      const { data } = await axios.get(\"/api/products\");\n      setProducts(data);\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    saveCartItems();\n  }, [cartItems]);\n  useEffect(() => {\n    sortProducts();\n  }, [sort]);\n  useEffect(() => {\n    filterProducts();\n  }, [size]);\n\n  //Handle Event\n  const filterProducts = () => {\n    if (size === \"All\") {\n      setProducts(data.products);\n    } else {\n      setProducts(\n        data.products.filter(\n          (product) => product.availableSizes.indexOf(size) >= 0\n        )\n      );\n    }\n  };\n  const sortProducts = () => {\n    setProducts(\n      products\n        .slice()\n        .sort((a, b) =>\n          sort === \"Lowest\"\n            ? a.price > b.price\n              ? 1\n              : -1\n            : sort === \"Highest\"\n            ? a.price < b.price\n              ? 1\n              : -1\n            : a._id > b._id\n            ? 1\n            : -1\n        )\n    );\n  };\n  const addToCart = (product) => {\n    const cartItem = cartItems.slice();\n    let alreadyInCart = false;\n    cartItem.forEach((item) => {\n      if (item._id === product._id) {\n        item.count++;\n        alreadyInCart = true;\n      }\n    });\n    if (!alreadyInCart) {\n      cartItem.push({ ...product, count: 1 });\n    }\n    setCartItems(cartItem);\n  };\n  const removeFromCart = (product) => {\n    setCartItems(cartItems.filter((x) => x._id !== product._id));\n  };\n  const saveCartItems = () => {\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  };\n  const loadCartItems = () => {\n    if (localStorage.getItem(\"cartItems\") === null) {\n      localStorage.setItem(\"cartItems\", JSON.stringify([]));\n    } else {\n      let localCartItems = JSON.parse(localStorage.getItem(\"cartItems\"));\n      setCartItems(localCartItems);\n    }\n  };\n  const createOrder = (order) => {\n    console.log(order);\n  };\n\n  //Render\n  return (\n    <div className=\"grid-container\">\n      <header>\n        <a href=\"/\">React Shopping Cart</a>\n      </header>\n      <main>\n        <div className=\"content\">\n          <div className=\"main\">\n            <Filter\n              count={products.length}\n              size={size}\n              sort={sort}\n              setSize={setSize}\n              setSort={setSort}\n            />\n            <Product\n              setProducts={setProducts}\n              products={products}\n              addToCart={addToCart}\n            />\n          </div>\n\n          <div className=\"sidebar\">\n            <Cart\n              cartItems={cartItems}\n              removeFromCart={removeFromCart}\n              createOrder={createOrder}\n            />\n          </div>\n        </div>\n      </main>\n      <footer>All right is reserved</footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}